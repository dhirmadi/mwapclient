# MWAP Frontend Overview

## 🎯 Purpose

This frontend application provides a modern, role-aware interface to the MWAP backend API. It enables authenticated users to interact with the platform's features based on their permissions, using a clean and maintainable architecture.

---

## 🌐 Goals

- ✅ Build a modern React frontend that interfaces with the MWAP backend (via `v3-api.md`)
- ✅ Authenticate users using **Auth0**
- ✅ Load user roles (e.g. SuperAdmin, TenantOwner, ProjectMember) based on API (has a tenant, issuperadmin etc.)
- ✅ Dynamically adjust UI and routing based on role (Superadmin gives additional access, User is also eitehr TenantOwner or projectMamber)
- ✅ Implement CRUD workflows for Tenants, Projects, Project Types, Cloud Providers, and Integrations
- ✅ Follow MWAP's documented architecture, coding standards, and DRY principle

---
## Definition of done
- A user can login, navigate the platform and logout
- the user role is determined based on having a tenant or being member of a project in a tenant
- the superamdin role is based on the API request to check if user is superadmin
- the tenant can manage their tenant and projects
- A project is a defined entity, that refernces to a specific folder with a specific cloud provider.
---

## 👥 Role-Based Access

- **SuperAdmin**:
  - Manage tenants
  - Manage cloud providers
  - Manage project types

- **TenantOwner**:
  - Create & manage projects within a tenant
  - Manage cloud integrations
  - Invite project members

- **ProjectMember**:
  - Access project detail views
  - Upload and view project files (via future virtual file system)

---

## 🛠️ Technology Stack

- React 18 + Vite
- TypeScript
- React Router v6
- Tailwind CSS + Mantine (for UI)
- Axios + React Query (API integration)
- Zod + React Hook Form (validation and forms)
- Auth0 SPA SDK
- Context API (Auth + RBAC state)

---

## 📁 Project Structure (Planned)

```
src/
  features/
    tenants/
    projects/
    auth/
    integrations/
  components/
    ui/
    layout/
  lib/
    api/
    hooks/
  router/
    index.tsx
  pages/
    Dashboard.tsx
  app.tsx
```

---

## ⚙️ Conventions

- All API schemas defined in Zod are reused for forms
- Auth context exposes role booleans (e.g. `isSuperAdmin`)
- API hooks follow `useProjectsQuery`, `useCreateProjectMutation`, etc.
- Role-based UI rendering with `<RoleRoute roles={['TenantOwner']}>`
- Components are colocated with their feature
- Microagents guide OpenHands task generation

---

## 🔁 Workflow

1. User logs in via Auth0
2. JWT token is parsed → roles resolved
3. API hooks fetch data for the current tenant or user
4. Role-specific routes and components are rendered
5. Mutations trigger CRUD operations via `v3-api.md`

---

## ✅ Development Standards

- DRY: Prefer microagents and shared utilities
- Single-responsibility: Components are functionally isolated
- Feature-first: Each domain (project, tenant, etc.) lives in its own folder
- Autogenerated API docs and OpenAPI clients planned

---

## 📚 References

- `v3-api.md`: Full backend API spec
- `rbac.md`: Role access matrix
- `component-structure.md`: UI guidelines
- `authentication.md`: Auth0 setup
- `architecture.md`: Clean architecture foundation